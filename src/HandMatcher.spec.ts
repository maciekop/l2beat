import { HandMatcher } from './HandMatcher';

describe('HandMatcher', () => {
  let patternMatcher: HandMatcher;

  beforeAll(() => {
    patternMatcher = new HandMatcher();
  });

  describe('match', () => {
    it.each`
      hand                         | pattern                      | expectedResult
      ${['A', 'A', 'A', 'Q', 'Q']} | ${['A', 'Q', 'A', 'Q', 'A']} | ${true}
      ${['A', 'A', 'A', 'Q', 'Q']} | ${['A', 'A', 'A', 'A']}      | ${false}
      ${['A', 'A', 'A', 'A', 'Q']} | ${['A', 'A', 'A', 'A']}      | ${true}
      ${['A', 'A', 'A', '2', '3']} | ${['A', 'A', 'A', 'A']}      | ${false}
      ${['A', '2', '3', '4', '5']} | ${['A', 'x']}                | ${true}
      ${['A', '2', '3', '4', '5']} | ${['Q', 'x']}                | ${false}
      ${['A', '2', '2', '3', '4']} | ${['A', 'x', 'x']}           | ${true}
      ${['A', '2', '3', '4', '5']} | ${['A', 'x', 'x']}           | ${false}
      ${['A', '2', '2', '2', '3']} | ${['A', 'x', 'x', 'x']}      | ${true}
      ${['A', '2', '2', '3', '3']} | ${['A', 'x', 'x', 'x']}      | ${false}
      ${['A', '2', '2', '2', '2']} | ${['A', 'x', 'x', 'x', 'x']} | ${true}
      ${['A', '2', '2', '2', '3']} | ${['A', 'x', 'x', 'x', 'x']} | ${false}
      ${['A', '2', '3', '4', '5']} | ${['A', 'x', 'y']}           | ${true}
      ${['A', '2', '2', '2', '2']} | ${['A', 'x', 'y']}           | ${false}
      ${['A', '2', '3', '4', '5']} | ${['A', 'x', 'y', 'z']}      | ${true}
      ${['A', '2', '3', '3', '3']} | ${['A', 'x', 'y', 'z']}      | ${false}
      ${['A', 'A', '2', '3', '4']} | ${['A', 'A', 'x']}           | ${true}
      ${['A', 'Q', '2', '3', '4']} | ${['A', 'A', 'x']}           | ${false}
      ${['A', 'A', 'A', '2', '3']} | ${['A', 'A', 'A', 'x']}      | ${true}
      ${['A', 'A', 'Q', '2', '3']} | ${['A', 'A', 'A', 'x']}      | ${false}
      ${['A', 'A', 'A', '2', '2']} | ${['A', 'A', 'A', 'x', 'x']} | ${true}
      ${['A', 'A', 'A', '2', '3']} | ${['A', 'A', 'A', 'x', 'x']} | ${false}
      ${['A', 'A', 'A', '2', '3']} | ${['A', 'A', 'A', 'x', 'y']} | ${true}
      ${['A', 'A', 'A', '2', '2']} | ${['A', 'A', 'A', 'x', 'y']} | ${false}
      ${['2', '3', '4', '5', '6']} | ${['x']}                     | ${true}
      ${['2', '3', '4', '5', '3']} | ${['x', 'x']}                | ${true}
      ${['2', '3', '4', '5', '6']} | ${['x', 'x']}                | ${false}
      ${['2', '3', '2', '4', '2']} | ${['x', 'x', 'x']}           | ${true}
      ${['2', '3', '2', '4', '5']} | ${['x', 'x', 'x']}           | ${false}
      ${['2', '2', '2', '2', '4']} | ${['x', 'x', 'x', 'x']}      | ${true}
      ${['2', '2', '2', '3', '4']} | ${['x', 'x', 'x', 'x']}      | ${false}
      ${['2', '2', '3', '3', '4']} | ${['x', 'x', 'y', 'y']}      | ${true}
      ${['2', '2', '3', '4', '5']} | ${['x', 'x', 'y', 'y']}      | ${false}
      ${['2', '2', '3', '3', '4']} | ${['x', 'x', 'y', 'y', 'z']} | ${true}
      ${['2', '2', '3', '3', '3']} | ${['x', 'x', 'y', 'y', 'z']} | ${false}
      ${['2', '2', '2', '3', '3']} | ${['x', 'x', 'y', 'y', 'y']} | ${true}
      ${['2', '2', '2', '3', '3']} | ${['x', 'x', 'x', 'y', 'y']} | ${true}
      ${['2', '2', '2', '3', '3']} | ${['x', 'x', 'x', 'y', 'z']} | ${false}
      ${['2', '2', '2', '3', '3']} | ${['x', 'y', 'z']}           | ${false}
      ${['2', '2', '2', '3', '4']} | ${['x', 'y', 'z']}           | ${true}
    `(
      'should match pattern $pattern to hand $hand with result: $expectedResult',
      ({ hand, pattern, expectedResult }) => {
        const result = patternMatcher.match(hand, pattern);
        expect(result).toEqual(expectedResult);
      }
    );
  });
});
